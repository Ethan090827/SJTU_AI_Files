## 第三讲 启发式搜索与对抗搜索
#### 2025/03/22

文件：[启发对抗算法实践-吃豆人.pdf](https://oc.sjtu.edu.cn/files/10768193/download?download_frd=1)、[Pacman-2.zip](https://oc.sjtu.edu.cn/courses/79997/files/10768204/download?download_frd=1)


### 1. 启发式搜索算法

#### 1.1. 启发式函数 (Heuristics Function)

- 预测某一状态距离目标状态远近的函数
- 不同的搜索问题有不同的启发式函数
- 例如：曼哈顿距离 ( $|x_1-x_2|+|y_1-y_2|$ ，L1距离) 、
  欧几里得距离 ( $\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}$ ，L2距离)

#### 1.2. 贪心搜索 (Greedy Search)

- 向**距离目标最近**的节点搜索
- 搜索**被认为是最接近目标状态**的节点
- 启发函数：预测每个状态到目标状态的距离
- 通常情况：最优优先策略会将你带往目标
- 最坏情况：类似于方向错误的深度优先算法

#### 1.3. A* 搜索

- **一致代价搜索**以路径代价为依据搜索，即**后向代价 $g(n)$**
- **贪心搜索**以距离目标远近为依据搜索，即**前向代价 $h(n)$**
- **A\* 搜索**计算这两者之和，即：$f(n)=g(n)+h(n)$
- A* 搜索**最优**的条件为：$0 \leq h(n) \leq h^*(n)$ ，
  其中 $h^*(n)$ 是该状态到最终目标的**真正代价**

#### 1.4. A* 搜索 vs 一致代价搜索

- **一致代价搜索**平等地在每个方向上搜索
- **A\* 搜索**主要向着目标节点进行扩展，但同时也会采取一些措施来确保其搜索结果的最优性

### 2. 对抗搜索算法

#### 2.1. 对抗搜索简介

- **应用**：博弈类情形，例如：西洋跳棋、国际象棋、围棋、**吃豆人**

- **博弈的分类**：
  - 确定性的还是随机的？
  - 玩家的数量是一个、两个还是多个？
  - 是否为零和博弈？
  - 是否能得到完整的信息？

- **目标**：设计算法，告诉玩家在每个**状态**应该采取什么**行动**

- **零和博弈**：
  - 玩家有着对立的收益
  - 一个玩家的收益增长代表着其他玩家收益减少
  - 对抗的、纯竞争的

#### 2.2. 极小化极大算法

- Minimax 对抗搜索
  - 确定性的零和博弈
    - 井字棋、围棋、象棋等
    - 玩家A最大化自己的收益
    - 玩家B最小化A的利益
  - 极小化极大 ( Minimax ) 搜索
    - 一个状态空间搜索树
    - 玩家依次做选择
    - 每个节点的**极小化最大值**是指从这个状态开始，并**假设对手总能做出最优选择**的情况下能得到的最好分值
    - 暗含前提：双方实力差不多
  - 基于 “ **对手总能作出最优选择** ” 这一假设

#### 2.3. α-β 剪枝算法

- 剪枝原理 ( `min` 节点)
  - 假设我们正在计算节点 `n` 的 `min_value`
  - 我们需要遍历 `n` 的子节点
  - 假设 `α` 是 `n` 上方某个 `max` 节点目前得到的最好结果
  - 若 `n` 当前的取值小于等于 `α` ，则上方的 `max` 将不会取到 `n` 的值，我们便可以不用再遍历 `n` 剩下的节点
  - 对于 `max` 节点的剪枝同理可得
- α-β 剪枝算法的特性
  - α-β 剪枝**不会影响**根节点极小化最大值
  - (没记全) TODO: 补α-β剪枝